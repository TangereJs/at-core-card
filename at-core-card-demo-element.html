<link rel="import" href="../tangere/tangere.html" />
<link rel="import" href="at-core-card.html" />
<link rel="import" href="../at-carbon-icon/at-carbon-icon.html" />

<dom-module id="at-core-card-demo-element">
  <style>
   :host {
    display: block;
    box-sizing: border-box;
  }

  .left-action {
    background: blue;
  }

  .right-action {
    background: red;
    text-align: right;
  }

  at-core-card {
    height: 40px;
  }

  .content {    
    height: 40px;
    background: white;
  }
  </style>
  <template>
    <at-core-card on-swiped-away="_onSwippedAway" on-swipe-canceled="_onSwipeCanceled">
      <div class="content"> Swipe Me! </div>
      <div swipe-right-action swipe-size="40" swipe-rubber-band="50" class="left-action" on-tap="_onActionTapped">
        <at-carbon-icon icon="now:clock"></at-carbon-icon>
      </div>
      <div swipe-left-action swipe-size="40" swipe-fade class="right-action" on-tap="_onActionTapped">
        <at-carbon-icon icon="now:trash" class="align-right"></at-carbon-icon>
      </div>
    </at-core-card>
  </template>
  <script>
  Polymer({
    is: "at-core-card-demo-element",
    properties: {

    },
    ready: function() {

    },
    _onActionTapped: function(e) {
      var target = e.target;
      while (target.parentNode.localName != 'at-core-card') {
        target = target.parentNode;
      }
      console.log('Swipe action \'' + target.getAttribute('id') + '\' has been taped, let\'s reset the swiped item!');
      target.parentElement.reset(true);
    },
    _onSwippedAway: function(event) {
      console.log('card swipped away');
    },
    _onSwipeCanceled: function(event) {
      console.log('card swipe canceled');
    }
  });
  </script>
</dom-module>
